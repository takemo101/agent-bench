# テスト項目書（強化機能）

## メタ情報

| 項目 | 内容 |
|------|------|
| ドキュメントID | TEST-CLI-002 |
| 親設計書 | [BASIC-CLI-002_display-and-sound-enhancement.md](../../basic/BASIC-CLI-002_display-and-sound-enhancement.md) |
| 対象 | 表示・サウンド強化機能 |
| バージョン | 1.0.0 |

---

## 1. テスト概要

CLIのインジケーター表示（UI）とサウンド機能（Sound）の強化項目を検証する。

---

## 2. テスト環境
- OS: macOS 12以降
- ターミナル: iTerm2 または Terminal.app (ANSIカラー対応)
- サウンド: 出力可能なオーディオデバイス

---

## 3. テスト項目一覧

### 3.1 UIテスト (F-024, F-027)

| ID | 項目 | 手順 | 期待値 | 優先度 |
|----|------|------|--------|--------|
| UI-001 | 作業中インジケーター表示 | `pomodoro start` を実行 | プログレスバーが赤色で表示され、アイコン🍅が表示されること | 高 |
| UI-002 | 休憩中インジケーター表示 | 休憩フェーズに遷移 | プログレスバーが緑色で表示され、アイコン☕が表示されること | 高 |
| UI-003 | 長期休憩インジケーター表示 | 長期休憩フェーズに遷移 | プログレスバーが青色で表示され、アイコン💤が表示されること | 中 |
| UI-004 | 一時停止インジケーター表示 | `pomodoro pause` を実行 | プログレスバーが黄色で表示され、アイコン⏸が表示されること | 高 |
| UI-005 | プログレスバー進行 | タイマー進行を確認 | 1秒ごとにバーが進み、残り時間が減少すること | 高 |

### 3.2 サウンドテスト (F-025, F-026)

| ID | 項目 | 手順 | 期待値 | 優先度 |
|----|------|------|--------|--------|
| SND-001 | 作業終了サウンド再生 | 作業タイマーを完了させる | 設定された作業終了音（デフォルト: Funk）が再生されること | 高 |
| SND-002 | 休憩終了サウンド再生 | 休憩タイマーを完了させる | 設定された休憩終了音（デフォルト: Glass）が再生されること | 高 |
| SND-003 | サウンド設定変更 | `pomodoro config --work-sound Pop` を実行 | 設定ファイルが更新され、次回の作業終了時にPopが再生されること | 高 |
| SND-004 | 無効なサウンド設定 | `pomodoro config --work-sound InvalidName` | エラーメッセージが表示され、設定が保存されないこと | 中 |
| SND-005 | サウンド一覧表示 | `pomodoro sounds` を実行 | 利用可能なシステムサウンド一覧が表示されること | 中 |

### 3.3 設定永続化テスト

| ID | 項目 | 手順 | 期待値 | 優先度 |
|----|------|------|--------|--------|
| CFG-001 | 設定保存 | `pomodoro config` で変更 | `~/.pomodoro/sound-config.json` に正しいJSONが保存されること | 高 |
| CFG-002 | 設定読み込み | CLI再起動 | 保存された設定が反映されること | 高 |
| CFG-003 | デフォルト値 | 設定ファイル削除後に起動 | デフォルト値（Funk/Glass）で動作すること | 中 |
