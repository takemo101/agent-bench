# 技術調査レポート: indicatif (v0.18.x)

| 項目 | 内容 |
|------|------|
| 調査日 | 2026-01-05 |
| 調査深度 | standard |
| 対象バージョン | v0.18.3 |
| 現行バージョン | 新規導入 |

## エグゼクティブサマリー

`indicatif` は Rust で最も標準的な CLI 進捗表示ライブラリである。要件 F-024（インジケーター表示）で求められている「デザイン性の高い残り時間表示」を実現するのに最適である。マルチスレッド環境（Tokio）での動作も安定しており、カスタマイズ可能なテンプレート機能により、ポモドーロタイマー特有の「残り時間 + プログレスバー + タスク名」の同時表示が容易に実装可能である。

## バージョン情報

| バージョン | リリース日 | サポート状況 |
|-----------|-----------|-------------|
| v0.18.3 | 2025-11-11 | Active (MSRV 1.71) |

## 新機能・改善点

| 機能 | 概要 | 活用シーン |
|------|------|----------|
| `set_elapsed` | 経過時間を手動で設定可能 | デーモンから受け取った残り時間の正確な表示 |
| カスタムテンプレート | 表示項目を自由自在に配置 | 🍅 絵文字やタスク名を含む独自UIの作成 |
| 多彩なスタイル | ブロック、ドット、線形など | 洗練されたデザインの提供 |

## 設計への影響

### 必須対応

- [ ] `ProgressBar` オブジェクトのライフサイクル管理（タイマー動作中の更新ループ）。
- [ ] ターミナルサイズ変更への対応（自動リサイズ機能の活用）。

### 推奨対応

- [ ] `MultiProgress` を使用した、タスク進捗と全体のポモドーロ進捗の同時表示。

## マイグレーション手順（新規導入）

```rust
use indicatif::{ProgressBar, ProgressStyle};

let pb = ProgressBar::new(1500); // 25分
pb.set_style(ProgressStyle::with_template("{prefix:.bold} {bar:30.cyan/blue} {pos}/{len} ({percent}%) {msg}")?);
pb.set_prefix("🍅 作業中");
pb.set_message("API実装");
```

## 参考リンク

- [indicatif 公式リポジトリ](https://github.com/console-rs/indicatif)
- [docs.rs - indicatif](https://docs.rs/indicatif/latest/indicatif/)
