# トラブルシューティング

## よくある問題と解決策

### 1. "Failed to connect to daemon" エラー

**原因:**
バックグラウンドでデーモンプロセスが起動していません。

**解決策:**
- デーモンを手動で起動してみる: `pomodoro daemon`
- 自動起動設定を確認する: `pomodoro install` を再実行
- すでに別のプロセスがソケットを使用している場合: `rm ~/.pomodoro/pomodoro.sock` を実行してから再試行

### 2. 通知が表示されない

**原因:**
- macOSの「集中モード」で通知が抑制されている
- アプリケーション（ターミナルなど）の通知許可がない

**解決策:**
- システム設定 > 通知 から、使用しているターミナルアプリの通知設定を確認
- `osascript -e 'display notification "Test" with title "Pomodoro"'` で通知が表示されるかテスト

### 3. サウンドが再生されない

**原因:**
- システムの音量がミュートになっている
- サウンドファイルが見つからない（カスタムサウンドの場合）

**解決策:**
- 音量を確認
- デーモンのログを確認（標準出力/エラー出力）

### 4. メニューバーアイコンが表示されない

**原因:**
- メニューバーのスペース不足
- デーモンが起動していない

**解決策:**
- Hidden Barなどのツールでアイコンが隠れていないか確認
- デーモン再起動

## ログの確認

LaunchAgentを使用している場合、ログは以下の場所に出力されます（標準設定の場合）。

- 標準出力: `/tmp/pomodoro.out.log`
- エラー出力: `/tmp/pomodoro.err.log`

```bash
tail -f /tmp/pomodoro.err.log
```
